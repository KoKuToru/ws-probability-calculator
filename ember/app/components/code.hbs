{{page-title this.compressed}}
<Section @name="code_open">
  <:header>
    <span>Code</span>
    <span title={{this.state.code}}>{{this.compressed}}</span>
    <span class="flex-grow"></span>
  </:header>
  <:default>
    <div class="main">
      <div class="code"
        {{did-insert this.setupEditor}}
        {{did-update this.updateEditor this.state.code}}
        {{will-destroy this.destroyEditor}}
      >
        <div>{{#each this.codeParsed as |line|}}<CodeValidation @value={{line}}/>{{/each}}</div>
      </div>
      {{#if this.state.code_error}}
        <div class="code-error">
          {{~this.state.code_error~}}
        </div>
      {{/if}}
    </div>
    <div class="settings">
      <Section @name="settings_open">
        <:header>
          <span>Settings</span>
          <span class="flex-grow"></span>
        </:header>
        <:default>
          nothing yet
        </:default>
      </Section>
    </div>
  </:default>
</Section>
